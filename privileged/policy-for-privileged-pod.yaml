apiVersion: policy.elotl.co/v1alpha1
kind: SchedulePolicy
metadata:
  name: policy-priv-pod
spec:
  spreadConstraints:
    spreadMode: Duplicate
    topologyKey: kubernetes.io/metadata.name

  # policy matches all resources with the following label
  resourceSelectors:
    labelSelectors:
    - matchLabels:
        app: priv-pod
  namespaceSelector:
    matchExpressions:
    - key: kubernetes.io/metadata.name
      operator: Exists
  groupBy:
    labelKey: app
